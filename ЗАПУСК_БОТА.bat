@echo off
chcp 65001 >nul
echo ================================================================================
echo    üöÄ –ó–ê–ü–£–°–ö –ë–û–¢–ê "–¢–ê–ö–°–ò –ñ–£–ö–û–í–û+"
echo ================================================================================
echo.

cd /d "%~dp0"

echo üìã –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ .env...
if not exist .env (
    echo ‚ö†Ô∏è  –§–∞–π–ª .env –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–æ–∑–¥–∞—é...
    python create_env.py
    if errorlevel 1 (
        echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ .env
        pause
        exit /b 1
    )
    echo ‚úÖ –§–∞–π–ª .env —Å–æ–∑–¥–∞–Ω!
    echo.
) else (
    echo ‚úÖ –§–∞–π–ª .env —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    echo.
)

echo üìã –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
python -c "import telegram" 2>nul
if errorlevel 1 (
    echo ‚ö†Ô∏è  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
    pip install -r requirements.txt
    if errorlevel 1 (
        echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        pause
        exit /b 1
    )
)
echo ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
echo.

echo ================================================================================
echo    ‚úÖ –í–°–Å –ì–û–¢–û–í–û! –ó–ê–ü–£–°–ö–ê–Æ –ë–û–¢–ê –° –î–ò–ê–ì–ù–û–°–¢–ò–ö–û–ô...
echo ================================================================================
echo.

python test_bot.py

echo.
echo ================================================================================
echo    ‚ö†Ô∏è –ë–û–¢ –û–°–¢–ê–ù–û–í–õ–ï–ù
echo ================================================================================
echo.
pause


