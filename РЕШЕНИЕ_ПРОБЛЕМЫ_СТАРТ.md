# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å /start

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –Ω–∞ –±–æ—Ç–∞ –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ `/start`, —Ö–æ—Ç—è –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç.

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–¢–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `/start` –ª–æ–≥–∏—Ä—É–µ—Ç:
- –ö–æ–≥–¥–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–∑–≤–∞–Ω–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- –ï—Å—Ç—å –ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω
- –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –Ω–∞ –ª–æ–≥–∏
–°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º –ª–æ–≥–æ–≤.

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (–µ—Å–ª–∏ –µ—Å—Ç—å git)
git add bot/handlers/user.py bot/handlers/auth.py
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ /start"
git push

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/taxi-zhukovo
git pull
```

–ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ scp –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±.

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ª–æ–≥–∏

```bash
cd /opt/taxi-zhukovo
bash fix_log_permissions.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
chown -R taxi:taxi /opt/taxi-zhukovo/logs
chmod 755 /opt/taxi-zhukovo/logs
chown taxi:taxi /opt/taxi-zhukovo/logs/*.log
chmod 644 /opt/taxi-zhukovo/logs/*.log
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
systemctl restart taxi-bot
systemctl status taxi-bot
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```bash
# –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
journalctl -u taxi-bot -f

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤
tail -f /opt/taxi-zhukovo/logs/bot.log
```

### –®–∞–≥ 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ /start

–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üöÄ /start –≤—ã–∑–≤–∞–Ω! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: 123456789 (–ò–º—è)
‚úì –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω/—Å–æ–∑–¥–∞–Ω: –ò–º—è, —Ä–æ–ª—å: customer, —Ç–µ–ª–µ—Ñ–æ–Ω: –µ—Å—Ç—å/–ù–ï–¢
‚úì –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è customer
‚úÖ /start —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123456789
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω"
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –±–∞–∑–µ. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

### –ï—Å–ª–∏ –ù–ï –≤–∏–¥–∏—Ç–µ –ª–æ–≥–∏ –æ—Ç /start
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:
1. –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –±–æ—Ç–∞ (–ø—Ä–æ–±–ª–µ–º–∞ —Å Telegram API)
2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
3. –°–æ–æ–±—â–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è middleware

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `bot_error.log`:
```bash
tail -50 /opt/taxi-zhukovo/logs/bot_error.log
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**–°–æ–æ–±—â–µ–Ω–∏–µ "–ò–∑-–∑–∞ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –Ω–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–æ–º –º–æ—à–µ–Ω–Ω–∏–∫–∞–º–∏..."** - —ç—Ç–æ –ù–ï –∏–∑ –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞!

–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç Telegram Bot API, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –µ—Å–ª–∏:
1. Telegram –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –±–æ—Ç–∞ –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
2. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤
3. –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞ –≤ BotFather:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/botfather)
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots`
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω:**
   ```bash
   grep TELEGRAM_BOT_TOKEN /opt/taxi-zhukovo/.env
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –æ—Ç Telegram API:**
   ```bash
   grep -i "error\|unauthorized\|forbidden" /opt/taxi-zhukovo/logs/bot_error.log
   ```

4. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Telegram**, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è.

## üìä –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ —Å –Ω–æ–≤—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ `/start` –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
- –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- –ï—Å—Ç—å –ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω
- –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞.







