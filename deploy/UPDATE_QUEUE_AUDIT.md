# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ê—É–¥–∏—Ç –æ—á–µ—Ä–µ–¥–µ–π)

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ `fad968b`  
**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:** –ê—É–¥–∏—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ—á–µ—Ä–µ–¥–µ–π –≤–æ–¥–∏—Ç–µ–ª–µ–π

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å@–≤–∞—à_—Å–µ—Ä–≤–µ—Ä
```

### 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /–ø—É—Ç—å/–∫/–ø—Ä–æ–µ–∫—Ç—É/TAXI_–ñ–£–ö–û–í–û
```

### 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞ (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –±–æ—Ç–∞
ps aux | grep "python.*run.py\|python.*main.py\|python.*bot"

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ systemd)
sudo systemctl stop taxi-bot

# –ò–ª–∏ —á–µ—Ä–µ–∑ screen/tmux
screen -r  # –∏–ª–∏ tmux attach
# –ù–∞–∂–∞—Ç—å Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
```

### 4. –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è –±—ç–∫–∞–ø–æ–≤, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
mkdir -p backups

# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
cp taxi_zhukovo.db backups/taxi_zhukovo_backup_$(date +%Y%m%d_%H%M%S).db
```

### 5. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ GitHub

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É
git branch

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git pull origin main

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ
git log --oneline -5
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∫–æ–º–º–∏—Ç:
```
fad968b –ê—É–¥–∏—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ—á–µ—Ä–µ–¥–µ–π –≤–æ–¥–∏—Ç–µ–ª–µ–π
```

### 6. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ requirements.txt
source venv/bin/activate  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
pip install -r requirements.txt
```

### 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ
ls -la check_dema_drivers.py
ls -la "–ê–£–î–ò–¢_–û–ß–ï–†–ï–î–ï–ô_–í–û–î–ò–¢–ï–õ–ï–ô.md"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–∞—Ö
git diff HEAD~1 bot/services/queue_manager.py | head -50
```

### 8. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

```bash
# –ß–µ—Ä–µ–∑ systemd
sudo systemctl restart taxi-bot

# –ò–ª–∏ —á–µ—Ä–µ–∑ screen/tmux
screen -S taxi-bot  # –∏–ª–∏ tmux new-session -s taxi-bot
source venv/bin/activate  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ venv
python run.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ nohup
nohup python run.py > bot.log 2>&1 &
```

### 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ systemd
sudo journalctl -u taxi-bot -f

# –ò–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª –ª–æ–≥–æ–≤
tail -f bot.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
ps aux | grep python
```

### 10. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

–í Telegram –±–æ—Ç–µ (–æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞):

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Å–±—Ä–æ—Å–∞ –≤–æ–¥–∏—Ç–µ–ª–µ–π
/reset_drivers

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–æ–Ω—ã DEMA
/check_dema

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
/admin_stats
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞

–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –æ—á–µ—Ä–µ–¥–µ–π...
Order Dispatcher –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
–û—á–µ—Ä–µ–¥–∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–∑ –ë–î
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –æ—á–µ—Ä–µ–¥–µ–π

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–æ–Ω—ã DEMA
python check_dema_drivers.py
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–°–±—Ä–æ—Å –≤–æ–¥–∏—Ç–µ–ª–µ–π:**
   - –í—ã–ø–æ–ª–Ω–∏—Ç—å `/reset_drivers` –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –≤–æ–¥–∏—Ç–µ–ª–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ OFFLINE
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—á–µ—Ä–µ–¥–∏ –æ—á–∏—â–µ–Ω—ã

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–æ–Ω—ã DEMA:**
   - –í—ã–ø–æ–ª–Ω–∏—Ç—å `/check_dema`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–≤–æ–¥ –≤—Å–µ—Ö –≤–æ–¥–∏—Ç–µ–ª–µ–π –≤ –∑–æ–Ω–µ DEMA

3. **–¢–µ—Å—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∑–æ–Ω:**
   - –í–æ–¥–∏—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –æ–¥–Ω—É –∑–æ–Ω—É
   - –ó–∞—Ç–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥—É—é
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤–æ–¥–∏—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–π –∑–æ–Ω–µ

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–æ–≤—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/reset_drivers` - –ø–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö –≤–æ–¥–∏—Ç–µ–ª–µ–π
- `/check_dema` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–¥–∏—Ç–µ–ª–µ–π –≤ –∑–æ–Ω–µ DEMA

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ:
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–µ–∑–¥–∫–∏ –≤–æ–¥–∏—Ç–µ–ª—å **–ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –æ—á–µ—Ä–µ–¥—å
- –í–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤—Ä—É—á–Ω—É—é –Ω–∞–∂–∞—Ç—å "üü¢ –Ø –Ω–∞ –ª–∏–Ω–∏–∏"
- –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–∫–∞–∑–∞ –≤–æ–¥–∏—Ç–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–∑–∏—Ü–∏—é –≤ –æ—á–µ—Ä–µ–¥–∏ (FIFO)

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `check_dema_drivers.py` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–æ–Ω—ã DEMA
- `–ê–£–î–ò–¢_–û–ß–ï–†–ï–î–ï–ô_–í–û–î–ò–¢–ï–õ–ï–ô.md` - –æ—Ç—á–µ—Ç –æ–± –∞—É–¥–∏—Ç–µ

---

## üîß –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)

```bash
# –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∫–æ–º–º–∏—Ç—É
git reset --hard HEAD~1

# –ò–ª–∏ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É
git reset --hard 028031d

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î –∏–∑ –±—ç–∫–∞–ø–∞
cp backups/taxi_zhukovo_backup_YYYYMMDD_HHMMSS.db taxi_zhukovo.db

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
sudo systemctl restart taxi-bot
```

---

## üìû –ü—Ä–æ–±–ª–µ–º—ã?

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f bot.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã: `sudo systemctl status taxi-bot`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `ls -la`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ: `python --version`

---

**–£–¥–∞—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è!** ‚úÖ

